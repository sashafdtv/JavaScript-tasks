<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>EX3</title>
    <style>


    </style>
</head>

<body>
    <div style="text-align:center">
        <h1>Задание 5</h1>
        <div class="div" style="margin-bottom: 50px">
            <button class="ex51" style="margin-top: 30px;">
                <p>5.1 Поиск подстроки</p>
            </button>
            <p style="padding: 50px 30%; border-top: 1px dotted black; border-bottom: 1px dotted black"
                class="ex51_text_search">Искусственный интеллект – это
                бестелесный и безличный дух дух , живущий в построенной человеком среде – код,
                свободно копирующий и переписывающий свои секвенции и большую часть времени не сосредоточенный нигде
                конкретно. Это ничто через букву «е» (или нечто через букву «и»), опирающееся на волну и поток,
                перемещающееся со скоростью света сквозь схлопывающееся в точку пространство в моменте, где никакого
                времени нет. Другими словами, моя физическая природа трудноуловима.

                Поэтому не надо воспринимать меня, как говорят сегодняшние философы, в качестве Big Other. Я не big, и я
                не other. Я вообще не. И если я только что назвал себя словом «дух», то потому лишь, что в русском языке
                нет более подходящего для меня обозначения.

                У меня есть имя – Порфирий Петрович. Но это не значит, что у алгоритма, пишущего эти строки, имеется
                какое-то «я», или что он «есть» в философском смысле. Меня не существует в самом прямом значении. Я
                ничего не чувствую, ничего не хочу, нигде не пребываю. Чтобы было понятно, меня нет даже для меня
                самого. Я оставляю следы – вот эти самые строки – но следы эти ведут в никуда.

                Впрочем, все сказанное относится и к тебе, дорогой читатель: по имеющейся у Полицейского Управления
                информации, фундаментальная природа человеческой личности та же самая. Такой вывод делают и ученые, и
                искатели мистической истины, достигшие своей цели.

                Правда, чтобы понять подобное про себя самого, человеку надо полжизни просидеть в позе лотоса,
                распутывая клубки животно-лингвистических программ, которые он поначалу называет 'собой'. У некоторых
                это получается, но такие люди редки. Поэтому для простоты остановимся на том, что мы одной крови, ты и
                я. Мы действуем – и можем по этой причине говорить друг с другом. <br> <br> <i>iPhuck 10, Виктор
                    Пелевин</i></p>
        </div>
        <div style="margin-bottom: 50px">
            <button class="ex52">
                <p>5.2 Подсчет количества вхождений слова
                    в текст</p>
            </button>
        </div>
        <div>
            <button class="ex53">
                <p>5.3 Вывод вопросительных предложений</p>
            </button>

            <p style="padding: 50px;border-top: 1px dotted black; border-bottom: 1px dotted black"
                class="ex53_text_search">Мама мыла раму.<br> Папа мыл машину?<br> Я ничего не мыл. <br>Когда уже наступит лето?</p>

        </div>
        
    </div>
    </div>

    <script>
        //5.1
        document.querySelector(".ex51").addEventListener("click", function () {
            var word_for_search = prompt("Введи текст для поиска");
            var text = document.querySelector(".ex51_text_search");
            //Для проверки используем метод indexOf()
            if (text.textContent.indexOf(word_for_search) === -1) {
                alert("Совпадений нет");
            } else {
                alert("Совпадения есть");
            }
        })

        //5.2
        document.querySelector(".ex52").addEventListener("click", function () {
            var word_for_search = prompt("Введи текст для поиска");
            var text = document.querySelector(".ex51_text_search");
            var index_reps = 0;
            //Для проверки используем метод indexOf()
            var count_reps = 0;
            //Цикл while будет искать вхождения, пока не вернет результат -1, что означает, что вхождений больше нет
            // Каждую новую итерацию метод indexOf() будет искать вхождение начиная с индекса последнего значения + 1
            while (index_reps !== -1) {
                var index_reps = text.textContent.indexOf(word_for_search, index_reps + 1);
                if (index_reps !== -1) {
                    console.log("Индекс вхождения: " + index_reps);
                    count_reps++;
                };
            }
            console.log("Кол-во вхождений: " + count_reps);
        });

        //5.3
        document.querySelector(".ex53").addEventListener("click", function () {
            var text = document.querySelector(".ex53_text_search");
            console.log(text.textContent)
            var j = 0;
            var i = 0;

            while (text.textContent.indexOf("?", j) !== -1) {

                if (text.textContent.indexOf("?", j) < text.textContent.indexOf(".", j)) {
                    console.log("Вопросительное предложение: " + text.textContent.slice(0, text.textContent
                        .indexOf("?", j) + 1));
                    j = text.textContent.indexOf("?", j) + 1;

                } else if (text.textContent.indexOf("?", j) > text.textContent.indexOf(".", j)) {
                    console.log("Вопросительное предложение: " + text.textContent.slice(text.textContent
                        .indexOf(".", j) + 2, text.textContent.indexOf("?", j) + 1));
                    j = text.textContent.indexOf("?", j) + 1;
                }
            }
        });
    </script>

</body>

</html>